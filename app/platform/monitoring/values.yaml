kube-prometheus-stack:
  # ✅ Stop Helm from trying to install CRDs (ArgoCD should also use skipCrds=true)
  crds:
    enabled: false

  prometheusOperator:
    crds:
      enabled: false

  # ✅ Prometheus settings
  prometheus:
    prometheusSpec:
      retention: 2d
      replicas: 1

      # ✅ No PVC (ephemeral storage) for demos
      storageSpec: {}

      # ✅ Small single-node resource settings
      resources:
        requests:
          cpu: 200m
          memory: 512Mi
        limits:
          cpu: "1"
          memory: 1Gi

  # ✅ Grafana enabled
  grafana:
    enabled: true
    adminPassword: admin
    service:
      type: ClusterIP

  # ✅ Alertmanager disabled
  alertmanager:
    enabled: false